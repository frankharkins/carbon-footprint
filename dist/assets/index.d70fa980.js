import{w as ke,S as U,i as D,s as j,c as we,e as y,a as g,b as L,d as b,l as z,f as ae,u as ye,g as Ce,h as $e,t as h,j as k,k as w,n as q,m as A,o as C,p as W,q as Q,r as F,v as E,x as X,y as Z,z as oe,A as te,B as K,C as V,D as Y,E as G,F as N,G as S,H as J,I as B,J as Pe,K as ie}from"./vendor.f6602747.js";const Ne=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}};Ne();var H={calculators:[{name:"Travel",variables:[{name:"car",type:"number",value:0,minmax:30,kgco2pu:.22,label:"[ km | miles ] travelled by car per [ week | year | month | day ]:"},{name:"bus/train",type:"number",value:0,minmax:30,kgco2pu:.1,label:"[ km | miles ] travelled by bus / train per [ week | year | month | day ]:"},{name:"plane",type:"number",value:0,minmax:30,kgco2pu:.31,label:"[ hours @ 800 | km | miles ] travelled by plane per [ year | month | week | day ]:"}],summary:"Your travel emits ~%kg of CO2 per year.",about:`## How do we calculate travel emissions?

We estimate the emissions per mile for each mode of transport and
multiply it by the distance you enter (converting km to miles if needed).

For cars, we estimate ~0.22 kg CO2 per kilometer. This comes from the average
[CO2 emissions per gallon](https://www.carbonindependent.org/17.html),
divided by the [average miles per gallon in the UK](
https://www.nimblefins.co.uk/cheap-car-insurance/average-mpg).

For buses and trains, we estimate ~0.1 kg CO2 per kilometer. We use the
estimates from [this page](https://www.carbonindependent.org/20.html) and
[this page](https://www.carbonindependent.org/21.html).

For planes, we estimate ~0.3 kg CO2 per kilometer, also using estimates
from [carbon independent](https://www.carbonindependent.org/22.html). To
convert between time and distance, we estimate planes move at
~800km/hour.
`},{name:"Diet",variables:[{name:"beef",type:"number",value:0,minmax:30,kgco2pu:.5,label:"[ grams | ounces ] of beef bought per [ week | month | year | day ]:"},{name:"lamb / mutton",type:"number",value:0,minmax:30,kgco2pu:.2,label:"[ grams | ounces ] of lamb / mutton bought per [ week | month | year | day ]:"},{name:"cheese",type:"number",value:0,minmax:30,kgco2pu:.1,label:"[ grams | ounces ] of cheese bought per [ week | month | year | day ]:"},{name:"pork",type:"number",value:0,minmax:30,kgco2pu:.07,label:"[ grams | ounces ] of pork bought per [ week | month | year | day ]:"}],summary:"Your diet emits ~%kg of CO2 per year.",about:`## How do we calculate diet emissions?

We used the mean CO2 equivalent emissions from
[this paper](https://www.researchgate.net/publication/325532198_Reducing_food%27s_environmental_impacts_through_producers_and_consumer).
`},{name:"Gas / electric",variables:[{name:"electric",type:"number",value:0,minmax:30,kgco2pu:.31,label:"KWh of electricity used per [ year| month | week | day ]:"},{name:"gas",type:"number",value:0,minmax:30,kgco2pu:.2,label:"KWh of gas used per [ year| month | week | day ]:"}],summary:"Your household energy usage emits ~%kg of CO2 per year.",about:`## How do we calculate household emissions?

Numbers taken from [Carbon Independent](https://www.carbonindependent.org/15.html).
`}],completionNotification:`## Complete

You've finished the calculation, now adjust the sliders to see which variables
have the biggest effect on your footprint. Can you find three things you can
realistically change that have the biggest impact?
`,aboutPanel:`Created by Frank Harkins.

[View source on GitHub](https://github.com/frankharkins/carbon-footprint).
`};const x=H.calculators.map(l=>l.name);x.push("Play");const I=ke(x[0]);I.subscribe(l=>{l==="Play"&&window.showPopup(H.completionNotification,"Play")});function Se(){I.update(l=>x[x.indexOf(l)+1])}function Be(l){if(l.includes("@")){let[t,n]=l.split("@");return t=t.trim(),n=parseFloat(n),{label:t,value:n}}return{label:l,value:{miles:1.61,km:1,day:365,week:52,month:12,year:1,grams:1,ounces:28.3}[l]}}function Oe(l){let e,t,n,a,s;const o=l[6].default,r=we(o,l,l[5],null);return{c(){e=y("div"),r&&r.c(),g(e,"class",t="panel "+l[1]+" "+(l[2]?"notification":"")+" svelte-63hh4m"),L(e,"width","calc("+l[3]+" - 60px)"),L(e,"max-width","var(--max-app-size)")},m(i,u){b(i,e,u),r&&r.m(e,null),n=!0,a||(s=z(e,"click",function(){ae(l[0])&&l[0].apply(this,arguments)}),a=!0)},p(i,[u]){l=i,r&&r.p&&(!n||u&32)&&ye(r,o,l,l[5],n?$e(o,l[5],u,null):Ce(l[5]),null),(!n||u&6&&t!==(t="panel "+l[1]+" "+(l[2]?"notification":"")+" svelte-63hh4m"))&&g(e,"class",t),(!n||u&8)&&L(e,"width","calc("+l[3]+" - 60px)")},i(i){n||(h(r,i),n=!0)},o(i){k(r,i),n=!1},d(i){i&&w(e),r&&r.d(i),a=!1,s()}}}function Te(l,e,t){let{$$slots:n={},$$scope:a}=e,{onClick:s=()=>{}}=e,{state:o="active"}=e,{topSticky:r=!1}=e,{notification:i=!1}=e,u=i?"100%":"33%";return u=r?"100%":u,l.$$set=c=>{"onClick"in c&&t(0,s=c.onClick),"state"in c&&t(1,o=c.state),"topSticky"in c&&t(4,r=c.topSticky),"notification"in c&&t(2,i=c.notification),"$$scope"in c&&t(5,a=c.$$scope)},[s,o,i,u,r,a,n]}class ee extends U{constructor(e){super();D(this,e,Te,Oe,j,{onClick:0,state:1,topSticky:4,notification:2})}}function se(l){let e,t,n;return{c(){e=y("span"),e.textContent="Next",g(e,"class","next-button svelte-vrm1gw")},m(a,s){b(a,e,s),t||(n=z(e,"click",Se),t=!0)},p:q,d(a){a&&w(e),t=!1,n()}}}function ze(l){let e,t,n,a,s,o,r=l[1]===l[0].name&&se();return{c(){e=y("div"),t=y("p"),n=y("span"),n.textContent="About this panel",a=A(),r&&r.c(),g(n,"class","about-button svelte-vrm1gw"),g(t,"class","svelte-vrm1gw"),g(e,"class","footer")},m(i,u){b(i,e,u),C(e,t),C(t,n),C(t,a),r&&r.m(t,null),s||(o=z(n,"click",l[2]),s=!0)},p(i,[u]){i[1]===i[0].name?r?r.p(i,u):(r=se(),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:q,o:q,d(i){i&&w(e),r&&r.d(),s=!1,o()}}}function Ae(l,e,t){let n;W(l,I,o=>t(1,n=o));let{content:a}=e;const s=()=>window.showPopup(a.about);return l.$$set=o=>{"content"in o&&t(0,a=o.content)},[a,n,s]}class Fe extends U{constructor(e){super();D(this,e,Ae,ze,j,{content:0})}}function re(l,e,t){const n=l.slice();return n[5]=e[t],n}function ue(l){let e,t=l[5].label+"",n,a,s;return{c(){e=y("div"),n=F(t),g(e,"class","item svelte-5wh7dr")},m(o,r){b(o,e,r),C(e,n),a||(s=z(e,"click",function(){ae(l[4](l[5]))&&l[4](l[5]).apply(this,arguments)}),a=!0)},p(o,r){l=o,r&2&&t!==(t=l[5].label+"")&&E(n,t)},d(o){o&&w(e),a=!1,s()}}}function ce(l){let e,t=l[5]!=l[0]&&ue(l);return{c(){t&&t.c(),e=Q()},m(n,a){t&&t.m(n,a),b(n,e,a)},p(n,a){n[5]!=n[0]?t?t.p(n,a):(t=ue(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&w(e)}}}function Me(l){let e,t=l[0].label+"",n,a,s,o,r,i=l[1],u=[];for(let c=0;c<i.length;c+=1)u[c]=ce(re(l,i,c));return{c(){e=y("span"),n=F(t),a=A(),s=y("div");for(let c=0;c<u.length;c+=1)u[c].c();g(s,"class","menu svelte-5wh7dr"),g(e,"class",o="dropdown "+(l[3]==="Play"?"":"active")+" svelte-5wh7dr"),g(e,"style",r=l[2]?"text-transform: capitalize;":"")},m(c,f){b(c,e,f),C(e,n),C(e,a),C(e,s);for(let m=0;m<u.length;m+=1)u[m].m(s,null)},p(c,[f]){if(f&1&&t!==(t=c[0].label+"")&&E(n,t),f&19){i=c[1];let m;for(m=0;m<i.length;m+=1){const P=re(c,i,m);u[m]?u[m].p(P,f):(u[m]=ce(P),u[m].c(),u[m].m(s,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=i.length}f&8&&o!==(o="dropdown "+(c[3]==="Play"?"":"active")+" svelte-5wh7dr")&&g(e,"class",o),f&4&&r!==(r=c[2]?"text-transform: capitalize;":"")&&g(e,"style",r)},i:q,o:q,d(c){c&&w(e),X(u,c)}}}function qe(l,e,t){let n;W(l,I,i=>t(3,n=i));let{items:a={label:"No values specified",value:1}}=e,{value:s=a[0]}=e,{capitalize:o=!1}=e;function r(i){t(0,s=i)}return l.$$set=i=>{"items"in i&&t(1,a=i.items),"value"in i&&t(0,s=i.value),"capitalize"in i&&t(2,o=i.capitalize)},[s,a,o,n,r]}class Ue extends U{constructor(e){super();D(this,e,qe,Me,j,{items:1,value:0,capitalize:2})}}function De(l){let e,t,n,a,s;return{c(){e=y("div"),t=y("input"),g(t,"type","range"),g(t,"min","0"),g(t,"max",l[2]),g(t,"class","meter svelte-104ok39"),t.disabled=l[1],g(t,"style",n=l[1]?"":"cursor: pointer;"),g(e,"class","meter-container svelte-104ok39")},m(o,r){b(o,e,r),C(e,t),Z(t,l[0]),a||(s=[z(t,"change",l[3]),z(t,"input",l[3])],a=!0)},p(o,[r]){r&4&&g(t,"max",o[2]),r&2&&(t.disabled=o[1]),r&2&&n!==(n=o[1]?"":"cursor: pointer;")&&g(t,"style",n),r&1&&Z(t,o[0])},i:q,o:q,d(o){o&&w(e),a=!1,oe(s)}}}function je(l,e,t){let{disabled:n=!1}=e,{value:a=30}=e,{max:s=1e3}=e;function o(){a=te(this.value),t(0,a)}return l.$$set=r=>{"disabled"in r&&t(1,n=r.disabled),"value"in r&&t(0,a=r.value),"max"in r&&t(2,s=r.max)},[a,n,s,o]}class ne extends U{constructor(e){super();D(this,e,je,De,j,{disabled:1,value:0,max:2})}}function Le(l){let e,t,n,a,s,o,r,i;return{c(){e=y("div"),t=y("input"),n=A(),a=y("span"),a.textContent="+",s=A(),o=y("span"),o.textContent="\u2212",g(t,"type","number"),g(t,"min","0"),g(t,"class","svelte-p8e1oa"),g(a,"class","input-buttons svelte-p8e1oa"),g(o,"class","input-buttons svelte-p8e1oa"),g(e,"class","input-container svelte-p8e1oa")},m(u,c){b(u,e,c),C(e,t),Z(t,l[0]),C(e,n),C(e,a),C(e,s),C(e,o),r||(i=[z(t,"input",l[7]),z(t,"focus",Ie),z(a,"click",l[4]),z(o,"click",l[5])],r=!0)},p(u,c){c&1&&te(t.value)!==u[0]&&Z(t,u[0])},i:q,o:q,d(u){u&&w(e),r=!1,oe(i)}}}function Ee(l){let e,t,n,a,s,o,r;function i(c){l[6](c)}let u={max:Math.max(l[3]*1.5,l[1]),disabled:!1};return l[0]!==void 0&&(u.value=l[0]),s=new ne({props:u}),Y.push(()=>G(s,"value",i)),{c(){e=y("div"),t=y("span"),n=F(l[0]),a=A(),N(s.$$.fragment),L(t,"margin-left","10px"),L(e,"width","100%"),L(e,"touch-action","none")},m(c,f){b(c,e,f),C(e,t),C(t,n),C(e,a),S(s,e,null),r=!0},p(c,f){(!r||f&1)&&E(n,c[0]);const m={};f&10&&(m.max=Math.max(c[3]*1.5,c[1])),!o&&f&1&&(o=!0,m.value=c[0],J(()=>o=!1)),s.$set(m)},i(c){r||(h(s.$$.fragment,c),r=!0)},o(c){k(s.$$.fragment,c),r=!1},d(c){c&&w(e),B(s)}}}function He(l){let e,t,n,a;const s=[Ee,Le],o=[];function r(i,u){return i[2]==="Play"?0:1}return e=r(l),t=o[e]=s[e](l),{c(){t.c(),n=Q()},m(i,u){o[e].m(i,u),b(i,n,u),a=!0},p(i,[u]){let c=e;e=r(i),e===c?o[e].p(i,u):(K(),k(o[c],1,1,()=>{o[c]=null}),V(),t=o[e],t?t.p(i,u):(t=o[e]=s[e](i),t.c()),h(t,1),t.m(n.parentNode,n))},i(i){a||(h(t),a=!0)},o(i){k(t),a=!1},d(i){o[e].d(i),i&&w(n)}}}const Ie=l=>l.target.select();function Ke(l,e,t){let n;W(l,I,m=>t(2,n=m));let{value:a=0}=e,{minmax_value:s=100}=e,o=0;function r(m){t(0,a=a+5)}function i(m){a>5?t(0,a=a-5):t(0,a=0)}function u(m){m==="Play"&&o===0&&t(3,o=a)}function c(m){a=m,t(0,a)}function f(){a=te(this.value),t(0,a)}return l.$$set=m=>{"value"in m&&t(0,a=m.value),"minmax_value"in m&&t(1,s=m.minmax_value)},l.$$.update=()=>{l.$$.dirty&4&&u(n)},[a,s,n,o,r,i,c,f]}class Ve extends U{constructor(e){super();D(this,e,Ke,He,j,{value:0,minmax_value:1})}}const{Boolean:fe}=Pe;function me(l,e,t){const n=l.slice();return n[11]=e[t],n[12]=e,n[13]=t,n}function pe(l,e,t){const n=l.slice();return n[14]=e[t],n[15]=e,n[16]=t,n}function We(l){let e=l[14].value+"",t;return{c(){t=F(e)},m(n,a){b(n,t,a)},p(n,a){a&4&&e!==(e=n[14].value+"")&&E(t,e)},i:q,o:q,d(n){n&&w(t)}}}function Ye(l){let e,t,n;function a(o){l[5](o,l[14])}let s={items:l[14].units,capitalize:l[14].capitalize};return l[14].selectedUnit!==void 0&&(s.value=l[14].selectedUnit),e=new Ue({props:s}),Y.push(()=>G(e,"value",a)),{c(){N(e.$$.fragment)},m(o,r){S(e,o,r),n=!0},p(o,r){l=o;const i={};r&4&&(i.items=l[14].units),r&4&&(i.capitalize=l[14].capitalize),!t&&r&4&&(t=!0,i.value=l[14].selectedUnit,J(()=>t=!1)),e.$set(i)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function _e(l){let e,t,n,a;const s=[Ye,We],o=[];function r(i,u){return i[14].type==="dropdown"?0:1}return e=r(l),t=o[e]=s[e](l),{c(){t.c(),n=Q()},m(i,u){o[e].m(i,u),b(i,n,u),a=!0},p(i,u){let c=e;e=r(i),e===c?o[e].p(i,u):(K(),k(o[c],1,1,()=>{o[c]=null}),V(),t=o[e],t?t.p(i,u):(t=o[e]=s[e](i),t.c()),h(t,1),t.m(n.parentNode,n))},i(i){a||(h(t),a=!0)},o(i){k(t),a=!1},d(i){o[e].d(i),i&&w(n)}}}function de(l){let e,t,n;function a(o){l[6](o,l[11])}let s={minmax_value:l[11].minmax};return l[11].value!==void 0&&(s.value=l[11].value),e=new Ve({props:s}),Y.push(()=>G(e,"value",a)),{c(){N(e.$$.fragment)},m(o,r){S(e,o,r),n=!0},p(o,r){l=o;const i={};r&4&&(i.minmax_value=l[11].minmax),!t&&r&4&&(t=!0,i.value=l[11].value,J(()=>t=!1)),e.$set(i)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function ve(l){let e,t,n,a,s=l[11].labelData,o=[];for(let u=0;u<s.length;u+=1)o[u]=_e(pe(l,s,u));const r=u=>k(o[u],1,1,()=>{o[u]=null});let i=l[11].type==="number"&&de(l);return{c(){e=y("p");for(let u=0;u<o.length;u+=1)o[u].c();t=A(),i&&i.c(),n=Q()},m(u,c){b(u,e,c);for(let f=0;f<o.length;f+=1)o[f].m(e,null);b(u,t,c),i&&i.m(u,c),b(u,n,c),a=!0},p(u,c){if(c&4){s=u[11].labelData;let f;for(f=0;f<s.length;f+=1){const m=pe(u,s,f);o[f]?(o[f].p(m,c),h(o[f],1)):(o[f]=_e(m),o[f].c(),h(o[f],1),o[f].m(e,null))}for(K(),f=s.length;f<o.length;f+=1)r(f);V()}u[11].type==="number"?i?(i.p(u,c),c&4&&h(i,1)):(i=de(u),i.c(),h(i,1),i.m(n.parentNode,n)):i&&(K(),k(i,1,1,()=>{i=null}),V())},i(u){if(!a){for(let c=0;c<s.length;c+=1)h(o[c]);h(i),a=!0}},o(u){o=o.filter(fe);for(let c=0;c<o.length;c+=1)k(o[c]);k(i),a=!1},d(u){u&&w(e),X(o,u),u&&w(t),i&&i.d(u),u&&w(n)}}}function Ge(l){let e,t,n=l[1].summary.replace("%",Math.round(l[0].toString()))+"",a,s,o,r,i=l[2],u=[];for(let f=0;f<i.length;f+=1)u[f]=ve(me(l,i,f));const c=f=>k(u[f],1,1,()=>{u[f]=null});return o=new Fe({props:{content:l[1]}}),{c(){for(let f=0;f<u.length;f+=1)u[f].c();e=A(),t=y("p"),a=F(n),s=A(),N(o.$$.fragment)},m(f,m){for(let P=0;P<u.length;P+=1)u[P].m(f,m);b(f,e,m),b(f,t,m),C(t,a),b(f,s,m),S(o,f,m),r=!0},p(f,m){if(m&4){i=f[2];let _;for(_=0;_<i.length;_+=1){const p=me(f,i,_);u[_]?(u[_].p(p,m),h(u[_],1)):(u[_]=ve(p),u[_].c(),h(u[_],1),u[_].m(e.parentNode,e))}for(K(),_=i.length;_<u.length;_+=1)c(_);V()}(!r||m&3)&&n!==(n=f[1].summary.replace("%",Math.round(f[0].toString()))+"")&&E(a,n);const P={};m&2&&(P.content=f[1]),o.$set(P)},i(f){if(!r){for(let m=0;m<i.length;m+=1)h(u[m]);h(o.$$.fragment,f),r=!0}},o(f){u=u.filter(fe);for(let m=0;m<u.length;m+=1)k(u[m]);k(o.$$.fragment,f),r=!1},d(f){X(u,f),f&&w(e),f&&w(t),f&&w(s),B(o,f)}}}function Je(l){let e,t;return e=new ee({props:{state:l[3],$$slots:{default:[Ge]},$$scope:{ctx:l}}}),{c(){N(e.$$.fragment)},m(n,a){S(e,n,a),t=!0},p(n,[a]){const s={};a&8&&(s.state=n[3]),a&131079&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Re(l,e,t){let n,a;W(l,I,_=>t(4,a=_));let{content:s}=e,{totalCarbon:o}=e,r=!1,i=s.variables;function u(_){return _===s.name?(r=!0,"required"):r?"active":"hidden"}function c(_){const p=_.split(/(\[.*?\])/g).filter(Boolean),d=[];return p.forEach(function(T,v){if(T.includes("[")){T=T.replace(/[\[\]\s]/g,"");let $=[];T.split("|").forEach(function(M,R){$.push(Be(M))}),d.push({type:"dropdown",selectedUnit:$[0],units:$,capitalize:v===0})}else d.push({type:"text",value:T})}),d}function f(_){let p=0;for(let d=_.length;d--;){let T=1,v=_[d].labelData;for(let $=v.length;$--;){let M=v[$];M.type==="dropdown"&&(T*=M.selectedUnit.value)}p+=_[d].value*_[d].kgco2pu*T}return p}for(let _=0;_<i.length;_++)i[_].labelData=c(i[_].label);function m(_,p){l.$$.not_equal(p.selectedUnit,_)&&(p.selectedUnit=_,t(2,i))}function P(_,p){l.$$.not_equal(p.value,_)&&(p.value=_,t(2,i))}return l.$$set=_=>{"content"in _&&t(1,s=_.content),"totalCarbon"in _&&t(0,o=_.totalCarbon)},l.$$.update=()=>{l.$$.dirty&16&&t(3,n=u(a)),l.$$.dirty&4&&t(0,o=f(i))},[o,s,i,n,a,m,P]}class Qe extends U{constructor(e){super();D(this,e,Re,Je,j,{content:1,totalCarbon:0})}}function Xe(l){let e,t=Math.round((l[0]/1e3).toString())+"",n,a,s,o,r,i=ge/1e3+"",u,c,f,m;function P(p){l[3](p)}let _={max:l[1],disabled:"true"};return l[0]!==void 0&&(_.value=l[0]),s=new ne({props:_}),Y.push(()=>G(s,"value",P)),f=new ne({props:{value:"10000",max:l[1],disabled:"true"}}),{c(){e=F("Your footprint (~"),n=F(t),a=F(` tonnes of CO2 per year):
		`),N(s.$$.fragment),r=F(`
		UK average (~`),u=F(i),c=F(` tonnes of CO2 per year):
		`),N(f.$$.fragment)},m(p,d){b(p,e,d),b(p,n,d),b(p,a,d),S(s,p,d),b(p,r,d),b(p,u,d),b(p,c,d),S(f,p,d),m=!0},p(p,d){(!m||d&1)&&t!==(t=Math.round((p[0]/1e3).toString())+"")&&E(n,t);const T={};d&2&&(T.max=p[1]),!o&&d&1&&(o=!0,T.value=p[0],J(()=>o=!1)),s.$set(T);const v={};d&2&&(v.max=p[1]),f.$set(v)},i(p){m||(h(s.$$.fragment,p),h(f.$$.fragment,p),m=!0)},o(p){k(s.$$.fragment,p),k(f.$$.fragment,p),m=!1},d(p){p&&w(e),p&&w(n),p&&w(a),B(s,p),p&&w(r),p&&w(u),p&&w(c),B(f,p)}}}function Ze(l){let e,t,n,a;return t=new ee({props:{topSticky:!0,$$slots:{default:[Xe]},$$scope:{ctx:l}}}),{c(){e=y("div"),N(t.$$.fragment),g(e,"class",n="top-sticky "+(l[2]==="Play"?"active":"hidden")+" svelte-c8xq54")},m(s,o){b(s,e,o),S(t,e,null),a=!0},p(s,[o]){const r={};o&19&&(r.$$scope={dirty:o,ctx:s}),t.$set(r),(!a||o&4&&n!==(n="top-sticky "+(s[2]==="Play"?"active":"hidden")+" svelte-c8xq54"))&&g(e,"class",n)},i(s){a||(h(t.$$.fragment,s),a=!0)},o(s){k(t.$$.fragment,s),a=!1},d(s){s&&w(e),B(t)}}}const ge=1e4;function xe(l,e,t){let n,a;W(l,I,r=>t(2,a=r));let{value:s=30}=e;function o(r){s=r,t(0,s)}return l.$$set=r=>{"value"in r&&t(0,s=r.value)},l.$$.update=()=>{l.$$.dirty&1&&t(1,n=Math.max(ge*1.5,s))},[s,n,a,o]}class et extends U{constructor(e){super();D(this,e,xe,Ze,j,{value:0})}}function tt(l){let e,t,n,a,s,o,r;return e=new ie({props:{source:l[0]}}),{c(){N(e.$$.fragment),t=A(),n=y("div"),a=F(l[1]),L(n,"text-align","right"),L(n,"font-size","1.2em"),L(n,"cursor","pointer")},m(i,u){S(e,i,u),b(i,t,u),b(i,n,u),C(n,a),s=!0,o||(r=z(n,"click",window.hidePopup),o=!0)},p(i,u){const c={};u&1&&(c.source=i[0]),e.$set(c),(!s||u&2)&&E(a,i[1])},i(i){s||(h(e.$$.fragment,i),s=!0)},o(i){k(e.$$.fragment,i),s=!1},d(i){B(e,i),i&&w(t),i&&w(n),o=!1,r()}}}function nt(l){let e,t,n;return t=new ee({props:{width:"100%",onClick:lt,notification:!0,$$slots:{default:[tt]},$$scope:{ctx:l}}}),{c(){e=y("div"),N(t.$$.fragment),g(e,"class","centered svelte-19d3ex7")},m(a,s){b(a,e,s),S(t,e,null),n=!0},p(a,[s]){const o={};s&7&&(o.$$scope={dirty:s,ctx:a}),t.$set(o)},i(a){n||(h(t.$$.fragment,a),n=!0)},o(a){k(t.$$.fragment,a),n=!1},d(a){a&&w(e),B(t)}}}function lt(l){l.stopPropagation()}function at(l,e,t){let{content:n="No text specified."}=e,{closeButtonText:a="Close"}=e;return l.$$set=s=>{"content"in s&&t(0,n=s.content),"closeButtonText"in s&&t(1,a=s.closeButtonText)},[n,a]}class ot extends U{constructor(e){super();D(this,e,at,nt,j,{content:0,closeButtonText:1})}}function it(l){let e,t;return e=new ie({props:{source:l[0]}}),{c(){N(e.$$.fragment)},m(n,a){S(e,n,a),t=!0},p(n,a){const s={};a&1&&(s.source=n[0]),e.$set(s)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function st(l){let e,t;return e=new ee({props:{onClick:rt,state:"info",$$slots:{default:[it]},$$scope:{ctx:l}}}),{c(){N(e.$$.fragment)},m(n,a){S(e,n,a),t=!0},p(n,[a]){const s={};a&3&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function rt(l){l.stopPropagation()}function ut(l,e,t){let{content:n="No text specified."}=e;return l.$$set=a=>{"content"in a&&t(0,n=a.content)},[n]}class ct extends U{constructor(e){super();D(this,e,ut,st,j,{content:0})}}function he(l,e,t){const n=l.slice();return n[4]=e[t],n[5]=e,n[6]=t,n}function be(l){let e,t,n;function a(o){l[3](o,l[6])}let s={content:H.calculators[l[6]]};return l[0][l[6]]!==void 0&&(s.totalCarbon=l[0][l[6]]),e=new Qe({props:s}),Y.push(()=>G(e,"totalCarbon",a)),{c(){N(e.$$.fragment)},m(o,r){S(e,o,r),n=!0},p(o,r){l=o;const i={};!t&&r&1&&(t=!0,i.totalCarbon=l[0][l[6]],J(()=>t=!1)),e.$set(i)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){B(e,o)}}}function ft(l){let e,t,n,a,s,o,r,i,u,c,f,m,P,_;n=new et({props:{value:l[2]}});let p=Array(H.calculators.length),d=[];for(let v=0;v<p.length;v+=1)d[v]=be(he(l,p,v));const T=v=>k(d[v],1,1,()=>{d[v]=null});return o=new ct({props:{content:H.aboutPanel}}),c=new ot({props:{content:l[1].content,closeButtonText:l[1].closeButtonText}}),{c(){e=y("main"),t=y("div"),N(n.$$.fragment),a=A();for(let v=0;v<d.length;v+=1)d[v].c();s=A(),N(o.$$.fragment),r=A(),i=y("div"),u=y("div"),N(c.$$.fragment),g(t,"class","app-container svelte-bjwyvc"),g(u,"class","notification-container svelte-bjwyvc"),g(i,"class",f="popup-overlay "+(l[1].visible?"popup-overlay-visible":"")+" svelte-bjwyvc")},m(v,$){b(v,e,$),C(e,t),S(n,t,null),C(t,a);for(let M=0;M<d.length;M+=1)d[M].m(t,null);C(t,s),S(o,t,null),C(e,r),C(e,i),C(i,u),S(c,u,null),m=!0,P||(_=z(i,"click",window.hidePopup),P=!0)},p(v,[$]){const M={};if($&4&&(M.value=v[2]),n.$set(M),$&1){p=Array(H.calculators.length);let O;for(O=0;O<p.length;O+=1){const le=he(v,p,O);d[O]?(d[O].p(le,$),h(d[O],1)):(d[O]=be(le),d[O].c(),h(d[O],1),d[O].m(t,s))}for(K(),O=p.length;O<d.length;O+=1)T(O);V()}const R={};$&2&&(R.content=v[1].content),$&2&&(R.closeButtonText=v[1].closeButtonText),c.$set(R),(!m||$&2&&f!==(f="popup-overlay "+(v[1].visible?"popup-overlay-visible":"")+" svelte-bjwyvc"))&&g(i,"class",f)},i(v){if(!m){h(n.$$.fragment,v);for(let $=0;$<p.length;$+=1)h(d[$]);h(o.$$.fragment,v),h(c.$$.fragment,v),m=!0}},o(v){k(n.$$.fragment,v),d=d.filter(Boolean);for(let $=0;$<d.length;$+=1)k(d[$]);k(o.$$.fragment,v),k(c.$$.fragment,v),m=!1},d(v){v&&w(e),B(n),X(d,v),B(o),B(c),P=!1,_()}}}function mt(l,e,t){let n;const a={};a.content="none",a.closeButtonText="Close",a.visible=!1,window.showPopup=function(r,i="Close"){t(1,a.visible=!0,a),t(1,a.content=r,a),t(1,a.closeButtonText=i,a)},window.hidePopup=function(){t(1,a.visible=!1,a)};const s=new Array(H.calculators.length).fill(0);function o(r,i){l.$$.not_equal(s[i],r)&&(s[i]=r,t(0,s))}return l.$$.update=()=>{l.$$.dirty&1&&t(2,n=s.reduce((r,i)=>r+i,0))},[s,a,n,o]}class pt extends U{constructor(e){super();D(this,e,mt,ft,j,{})}}new pt({target:document.getElementById("app")});
