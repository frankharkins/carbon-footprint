import{w as we,S as q,i as U,s as D,c as ye,e as C,a as v,b as L,d as h,l as A,f as ae,u as Ce,g as $e,h as Pe,t as k,j as y,k as w,n as j,m as T,o as $,p as W,q as Q,r as M,v as H,x as X,y as Z,z as oe,A as te,B as K,C as V,D as Y,E as G,F as N,G as S,H as J,I as z,J as Ne,K as ie,L as Se}from"./vendor.f1fb1434.js";const ze=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}};ze();var E={calculators:[{name:"Travel",variables:[{name:"car",type:"number",value:0,minmax:30,kgco2pu:.22,label:"[ km | miles ] travelled by car per [ week | year | month | day ]:"},{name:"bus/train",type:"number",value:0,minmax:30,kgco2pu:.1,label:"[ km | miles ] travelled by bus / train per [ week | year | month | day ]:"},{name:"plane",type:"number",value:0,minmax:30,kgco2pu:.31,label:"[ hours @ 800 | km | miles ] travelled by plane per [ year | month | week | day ]:"}],summary:"Your travel emits ~%kg of CO2 per year.",about:`## How do we calculate travel emissions?

We estimate the emissions per mile for each mode of transport and
multiply it by the distance you enter (converting km to miles if needed).

For cars, we estimate ~0.22 kg CO2 per kilometer. This comes from the average
[CO2 emissions per gallon](https://www.carbonindependent.org/17.html),
divided by the [average miles per gallon in the UK](
https://www.nimblefins.co.uk/cheap-car-insurance/average-mpg).

For buses and trains, we estimate ~0.1 kg CO2 per kilometer. We use the
estimates from [this page](https://www.carbonindependent.org/20.html) and
[this page](https://www.carbonindependent.org/21.html).

For planes, we estimate ~0.3 kg CO2 per kilometer, also using estimates
from [carbon independent](https://www.carbonindependent.org/22.html). To
convert between time and distance, we estimate planes move at
~800km/hour.
`},{name:"Diet",variables:[{name:"beef",type:"number",value:0,minmax:30,kgco2pu:.5,label:"[ grams | ounces ] of beef bought per [ week | month | year | day ]:"},{name:"lamb / mutton",type:"number",value:0,minmax:30,kgco2pu:.2,label:"[ grams | ounces ] of lamb / mutton bought per [ week | month | year | day ]:"},{name:"cheese",type:"number",value:0,minmax:30,kgco2pu:.1,label:"[ grams | ounces ] of cheese bought per [ week | month | year | day ]:"},{name:"pork",type:"number",value:0,minmax:30,kgco2pu:.07,label:"[ grams | ounces ] of pork bought per [ week | month | year | day ]:"}],summary:"Your diet emits ~%kg of CO2 per year.",about:`## How do we calculate diet emissions?

We used the mean CO2 equivalent emissions from
[this paper](https://www.researchgate.net/publication/325532198_Reducing_food%27s_environmental_impacts_through_producers_and_consumer).
`},{name:"Gas / electric",variables:[{name:"electric",type:"number",value:0,minmax:30,kgco2pu:.31,label:"KWh of electricity used per [ month | year | week | day ]:"},{name:"gas",type:"number",value:0,minmax:30,kgco2pu:.2,label:"KWh of gas used per [ month | year | week | day ]:"}],summary:"Your household energy usage emits ~%kg of CO2 per year.",about:`## How do we calculate household emissions?

Numbers taken from [Carbon Independent](https://www.carbonindependent.org/15.html).
`}],completionNotification:`## Complete

You've finished the calculation, now adjust the sliders to see which variables
have the biggest effect on your footprint. Can you find three things you can
realistically change that have the biggest impact?
`,aboutPanel:{description:"By Frank Harkins",githubLink:"https://github.com/frankharkins/carbon-footprint"}};const x=E.calculators.map(n=>n.name);x.push("Play");const I=we(x[0]);I.subscribe(n=>{n==="Play"&&window.showPopup(E.completionNotification,"Play")});function Be(){I.update(n=>x[x.indexOf(n)+1])}function Oe(n){if(n.includes("@")){let[t,l]=n.split("@");return t=t.trim(),l=parseFloat(l),{label:t,value:l}}return{label:n,value:{miles:1.61,km:1,day:365,week:52,month:12,year:1,grams:1,ounces:28.3}[n]}}function Te(n){let e,t,l,a,i;const o=n[6].default,s=ye(o,n,n[5],null);return{c(){e=C("div"),s&&s.c(),v(e,"class",t="panel "+n[1]+" "+(n[2]?"notification":"")+" svelte-557j2x"),L(e,"width","calc("+n[3]+" - 60px)"),L(e,"max-width","var(--max-app-size)")},m(r,u){h(r,e,u),s&&s.m(e,null),l=!0,a||(i=A(e,"click",function(){ae(n[0])&&n[0].apply(this,arguments)}),a=!0)},p(r,[u]){n=r,s&&s.p&&(!l||u&32)&&Ce(s,o,n,n[5],l?Pe(o,n[5],u,null):$e(n[5]),null),(!l||u&6&&t!==(t="panel "+n[1]+" "+(n[2]?"notification":"")+" svelte-557j2x"))&&v(e,"class",t),(!l||u&8)&&L(e,"width","calc("+n[3]+" - 60px)")},i(r){l||(k(s,r),l=!0)},o(r){y(s,r),l=!1},d(r){r&&w(e),s&&s.d(r),a=!1,i()}}}function Ae(n,e,t){let{$$slots:l={},$$scope:a}=e,{onClick:i=()=>{}}=e,{state:o="active"}=e,{topSticky:s=!1}=e,{notification:r=!1}=e,u=r?"100%":"33%";return u=s?"100%":u,n.$$set=f=>{"onClick"in f&&t(0,i=f.onClick),"state"in f&&t(1,o=f.state),"topSticky"in f&&t(4,s=f.topSticky),"notification"in f&&t(2,r=f.notification),"$$scope"in f&&t(5,a=f.$$scope)},[i,o,r,u,s,a,l]}class ee extends q{constructor(e){super();U(this,e,Ae,Te,D,{onClick:0,state:1,topSticky:4,notification:2})}}function se(n){let e,t,l;return{c(){e=C("span"),e.textContent="Next",v(e,"class","next-button svelte-5p4xk5")},m(a,i){h(a,e,i),t||(l=A(e,"click",Be),t=!0)},p:j,d(a){a&&w(e),t=!1,l()}}}function Me(n){let e,t,l,a,i,o,s=n[1]===n[0].name&&se();return{c(){e=C("div"),t=C("p"),l=C("span"),l.textContent="About this panel",a=T(),s&&s.c(),v(l,"class","about-button svelte-5p4xk5"),v(t,"class","svelte-5p4xk5"),v(e,"class","footer")},m(r,u){h(r,e,u),$(e,t),$(t,l),$(t,a),s&&s.m(t,null),i||(o=A(l,"click",n[2]),i=!0)},p(r,[u]){r[1]===r[0].name?s?s.p(r,u):(s=se(),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i:j,o:j,d(r){r&&w(e),s&&s.d(),i=!1,o()}}}function Fe(n,e,t){let l;W(n,I,o=>t(1,l=o));let{content:a}=e;const i=()=>window.showPopup(a.about);return n.$$set=o=>{"content"in o&&t(0,a=o.content)},[a,l,i]}class Le extends q{constructor(e){super();U(this,e,Fe,Me,D,{content:0})}}function re(n,e,t){const l=n.slice();return l[5]=e[t],l}function ue(n){let e,t=n[5].label+"",l,a,i;return{c(){e=C("div"),l=M(t),v(e,"class","item svelte-5wh7dr")},m(o,s){h(o,e,s),$(e,l),a||(i=A(e,"click",function(){ae(n[4](n[5]))&&n[4](n[5]).apply(this,arguments)}),a=!0)},p(o,s){n=o,s&2&&t!==(t=n[5].label+"")&&H(l,t)},d(o){o&&w(e),a=!1,i()}}}function ce(n){let e,t=n[5]!=n[0]&&ue(n);return{c(){t&&t.c(),e=Q()},m(l,a){t&&t.m(l,a),h(l,e,a)},p(l,a){l[5]!=l[0]?t?t.p(l,a):(t=ue(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&w(e)}}}function je(n){let e,t=n[0].label+"",l,a,i,o,s,r=n[1],u=[];for(let f=0;f<r.length;f+=1)u[f]=ce(re(n,r,f));return{c(){e=C("span"),l=M(t),a=T(),i=C("div");for(let f=0;f<u.length;f+=1)u[f].c();v(i,"class","menu svelte-5wh7dr"),v(e,"class",o="dropdown "+(n[3]==="Play"?"":"active")+" svelte-5wh7dr"),v(e,"style",s=n[2]?"text-transform: capitalize;":"")},m(f,c){h(f,e,c),$(e,l),$(e,a),$(e,i);for(let m=0;m<u.length;m+=1)u[m].m(i,null)},p(f,[c]){if(c&1&&t!==(t=f[0].label+"")&&H(l,t),c&19){r=f[1];let m;for(m=0;m<r.length;m+=1){const b=re(f,r,m);u[m]?u[m].p(b,c):(u[m]=ce(b),u[m].c(),u[m].m(i,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=r.length}c&8&&o!==(o="dropdown "+(f[3]==="Play"?"":"active")+" svelte-5wh7dr")&&v(e,"class",o),c&4&&s!==(s=f[2]?"text-transform: capitalize;":"")&&v(e,"style",s)},i:j,o:j,d(f){f&&w(e),X(u,f)}}}function qe(n,e,t){let l;W(n,I,r=>t(3,l=r));let{items:a={label:"No values specified",value:1}}=e,{value:i=a[0]}=e,{capitalize:o=!1}=e;function s(r){t(0,i=r)}return n.$$set=r=>{"items"in r&&t(1,a=r.items),"value"in r&&t(0,i=r.value),"capitalize"in r&&t(2,o=r.capitalize)},[i,a,o,l,s]}class Ue extends q{constructor(e){super();U(this,e,qe,je,D,{items:1,value:0,capitalize:2})}}function De(n){let e,t,l,a,i;return{c(){e=C("div"),t=C("input"),v(t,"type","range"),v(t,"min","0"),v(t,"max",n[2]),v(t,"class","meter svelte-72v9e6"),t.disabled=n[1],v(t,"style",l=n[1]?"":"cursor: pointer;"),v(e,"class","meter-container svelte-72v9e6"),L(e,"--meter-value",n[3])},m(o,s){h(o,e,s),$(e,t),Z(t,n[0]),a||(i=[A(t,"change",n[4]),A(t,"input",n[4])],a=!0)},p(o,[s]){s&4&&v(t,"max",o[2]),s&2&&(t.disabled=o[1]),s&2&&l!==(l=o[1]?"":"cursor: pointer;")&&v(t,"style",l),s&1&&Z(t,o[0]),s&8&&L(e,"--meter-value",o[3])},i:j,o:j,d(o){o&&w(e),a=!1,oe(i)}}}function He(n,e,t){let l,{disabled:a=!1}=e,{value:i=30}=e,{max:o=1e3}=e;function s(){i=te(this.value),t(0,i)}return n.$$set=r=>{"disabled"in r&&t(1,a=r.disabled),"value"in r&&t(0,i=r.value),"max"in r&&t(2,o=r.max)},n.$$.update=()=>{n.$$.dirty&5&&t(3,l=(100*i/o).toString()+"%")},[i,a,o,l,s]}class ne extends q{constructor(e){super();U(this,e,He,De,D,{disabled:1,value:0,max:2})}}function Ee(n){let e,t,l,a,i,o,s,r;return{c(){e=C("div"),t=C("input"),l=T(),a=C("span"),a.textContent="+",i=T(),o=C("span"),o.textContent="\u2212",v(t,"type","number"),v(t,"min","0"),v(t,"class","svelte-pbzmia"),v(a,"class","input-buttons svelte-pbzmia"),v(o,"class","input-buttons svelte-pbzmia"),v(e,"class","input-container svelte-pbzmia")},m(u,f){h(u,e,f),$(e,t),Z(t,n[0]),$(e,l),$(e,a),$(e,i),$(e,o),s||(r=[A(t,"input",n[7]),A(t,"focus",Ve),A(a,"click",n[4]),A(o,"click",n[5])],s=!0)},p(u,f){f&1&&te(t.value)!==u[0]&&Z(t,u[0])},i:j,o:j,d(u){u&&w(e),s=!1,oe(r)}}}function Ie(n){let e,t,l,a;function i(s){n[6](s)}let o={max:Math.max(n[3]*1.5,n[1]),disabled:!1};return n[0]!==void 0&&(o.value=n[0]),t=new ne({props:o}),Y.push(()=>G(t,"value",i)),{c(){e=C("div"),N(t.$$.fragment),L(e,"width","100%"),L(e,"touch-action","none")},m(s,r){h(s,e,r),S(t,e,null),a=!0},p(s,r){const u={};r&10&&(u.max=Math.max(s[3]*1.5,s[1])),!l&&r&1&&(l=!0,u.value=s[0],J(()=>l=!1)),t.$set(u)},i(s){a||(k(t.$$.fragment,s),a=!0)},o(s){y(t.$$.fragment,s),a=!1},d(s){s&&w(e),z(t)}}}function Ke(n){let e,t,l,a;const i=[Ie,Ee],o=[];function s(r,u){return r[2]==="Play"?0:1}return e=s(n),t=o[e]=i[e](n),{c(){t.c(),l=Q()},m(r,u){o[e].m(r,u),h(r,l,u),a=!0},p(r,[u]){let f=e;e=s(r),e===f?o[e].p(r,u):(K(),y(o[f],1,1,()=>{o[f]=null}),V(),t=o[e],t?t.p(r,u):(t=o[e]=i[e](r),t.c()),k(t,1),t.m(l.parentNode,l))},i(r){a||(k(t),a=!0)},o(r){y(t),a=!1},d(r){o[e].d(r),r&&w(l)}}}const Ve=n=>n.target.select();function We(n,e,t){let l;W(n,I,m=>t(2,l=m));let{value:a=0}=e,{minmax_value:i=100}=e,o=0;function s(m){t(0,a=a+5)}function r(m){a>5?t(0,a=a-5):t(0,a=0)}function u(m){m==="Play"&&o===0&&t(3,o=a)}function f(m){a=m,t(0,a)}function c(){a=te(this.value),t(0,a)}return n.$$set=m=>{"value"in m&&t(0,a=m.value),"minmax_value"in m&&t(1,i=m.minmax_value)},n.$$.update=()=>{n.$$.dirty&4&&u(l)},[a,i,l,o,s,r,f,c]}class Ye extends q{constructor(e){super();U(this,e,We,Ke,D,{value:0,minmax_value:1})}}const{Boolean:fe}=Ne;function me(n,e,t){const l=n.slice();return l[11]=e[t],l[12]=e,l[13]=t,l}function pe(n,e,t){const l=n.slice();return l[14]=e[t],l[15]=e,l[16]=t,l}function Ge(n){let e=n[14].value+"",t;return{c(){t=M(e)},m(l,a){h(l,t,a)},p(l,a){a&4&&e!==(e=l[14].value+"")&&H(t,e)},i:j,o:j,d(l){l&&w(t)}}}function Je(n){let e,t,l;function a(o){n[5](o,n[14])}let i={items:n[14].units,capitalize:n[14].capitalize};return n[14].selectedUnit!==void 0&&(i.value=n[14].selectedUnit),e=new Ue({props:i}),Y.push(()=>G(e,"value",a)),{c(){N(e.$$.fragment)},m(o,s){S(e,o,s),l=!0},p(o,s){n=o;const r={};s&4&&(r.items=n[14].units),s&4&&(r.capitalize=n[14].capitalize),!t&&s&4&&(t=!0,r.value=n[14].selectedUnit,J(()=>t=!1)),e.$set(r)},i(o){l||(k(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){z(e,o)}}}function _e(n){let e,t,l,a;const i=[Je,Ge],o=[];function s(r,u){return r[14].type==="dropdown"?0:1}return e=s(n),t=o[e]=i[e](n),{c(){t.c(),l=Q()},m(r,u){o[e].m(r,u),h(r,l,u),a=!0},p(r,u){let f=e;e=s(r),e===f?o[e].p(r,u):(K(),y(o[f],1,1,()=>{o[f]=null}),V(),t=o[e],t?t.p(r,u):(t=o[e]=i[e](r),t.c()),k(t,1),t.m(l.parentNode,l))},i(r){a||(k(t),a=!0)},o(r){y(t),a=!1},d(r){o[e].d(r),r&&w(l)}}}function de(n){let e,t=n[11].value+"",l;return{c(){e=C("span"),l=M(t),L(e,"float","right")},m(a,i){h(a,e,i),$(e,l)},p(a,i){i&4&&t!==(t=a[11].value+"")&&H(l,t)},d(a){a&&w(e)}}}function ve(n){let e,t,l;function a(o){n[6](o,n[11])}let i={minmax_value:n[11].minmax};return n[11].value!==void 0&&(i.value=n[11].value),e=new Ye({props:i}),Y.push(()=>G(e,"value",a)),{c(){N(e.$$.fragment)},m(o,s){S(e,o,s),l=!0},p(o,s){n=o;const r={};s&4&&(r.minmax_value=n[11].minmax),!t&&s&4&&(t=!0,r.value=n[11].value,J(()=>t=!1)),e.$set(r)},i(o){l||(k(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){z(e,o)}}}function ge(n){let e,t,l,a,i,o=n[11].labelData,s=[];for(let c=0;c<o.length;c+=1)s[c]=_e(pe(n,o,c));const r=c=>y(s[c],1,1,()=>{s[c]=null});let u=n[3]==="Play"&&de(n),f=n[11].type==="number"&&ve(n);return{c(){e=C("p");for(let c=0;c<s.length;c+=1)s[c].c();t=T(),u&&u.c(),l=T(),f&&f.c(),a=Q(),v(e,"class","svelte-14ealo6")},m(c,m){h(c,e,m);for(let b=0;b<s.length;b+=1)s[b].m(e,null);$(e,t),u&&u.m(e,null),h(c,l,m),f&&f.m(c,m),h(c,a,m),i=!0},p(c,m){if(m&4){o=c[11].labelData;let b;for(b=0;b<o.length;b+=1){const _=pe(c,o,b);s[b]?(s[b].p(_,m),k(s[b],1)):(s[b]=_e(_),s[b].c(),k(s[b],1),s[b].m(e,t))}for(K(),b=o.length;b<s.length;b+=1)r(b);V()}c[3]==="Play"?u?u.p(c,m):(u=de(c),u.c(),u.m(e,null)):u&&(u.d(1),u=null),c[11].type==="number"?f?(f.p(c,m),m&4&&k(f,1)):(f=ve(c),f.c(),k(f,1),f.m(a.parentNode,a)):f&&(K(),y(f,1,1,()=>{f=null}),V())},i(c){if(!i){for(let m=0;m<o.length;m+=1)k(s[m]);k(f),i=!0}},o(c){s=s.filter(fe);for(let m=0;m<s.length;m+=1)y(s[m]);y(f),i=!1},d(c){c&&w(e),X(s,c),u&&u.d(),c&&w(l),f&&f.d(c),c&&w(a)}}}function Re(n){let e,t,l=n[1].summary.replace("%",Math.round(n[0].toString()))+"",a,i,o,s,r=n[2],u=[];for(let c=0;c<r.length;c+=1)u[c]=ge(me(n,r,c));const f=c=>y(u[c],1,1,()=>{u[c]=null});return o=new Le({props:{content:n[1]}}),{c(){for(let c=0;c<u.length;c+=1)u[c].c();e=T(),t=C("p"),a=M(l),i=T(),N(o.$$.fragment),v(t,"class","svelte-14ealo6")},m(c,m){for(let b=0;b<u.length;b+=1)u[b].m(c,m);h(c,e,m),h(c,t,m),$(t,a),h(c,i,m),S(o,c,m),s=!0},p(c,m){if(m&12){r=c[2];let _;for(_=0;_<r.length;_+=1){const p=me(c,r,_);u[_]?(u[_].p(p,m),k(u[_],1)):(u[_]=ge(p),u[_].c(),k(u[_],1),u[_].m(e.parentNode,e))}for(K(),_=r.length;_<u.length;_+=1)f(_);V()}(!s||m&3)&&l!==(l=c[1].summary.replace("%",Math.round(c[0].toString()))+"")&&H(a,l);const b={};m&2&&(b.content=c[1]),o.$set(b)},i(c){if(!s){for(let m=0;m<r.length;m+=1)k(u[m]);k(o.$$.fragment,c),s=!0}},o(c){u=u.filter(fe);for(let m=0;m<u.length;m+=1)y(u[m]);y(o.$$.fragment,c),s=!1},d(c){X(u,c),c&&w(e),c&&w(t),c&&w(i),z(o,c)}}}function Qe(n){let e,t;return e=new ee({props:{state:n[4],$$slots:{default:[Re]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment)},m(l,a){S(e,l,a),t=!0},p(l,[a]){const i={};a&16&&(i.state=l[4]),a&131087&&(i.$$scope={dirty:a,ctx:l}),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Xe(n,e,t){let l,a;W(n,I,_=>t(3,a=_));let{content:i}=e,{totalCarbon:o}=e,s=!1,r=i.variables;function u(_){return _===i.name?(s=!0,"required"):s?"active":"hidden"}function f(_){const p=_.split(/(\[.*?\])/g).filter(Boolean),d=[];return p.forEach(function(O,g){if(O.includes("[")){O=O.replace(/[\[\]\s]/g,"");let P=[];O.split("|").forEach(function(F,R){P.push(Oe(F))}),d.push({type:"dropdown",selectedUnit:P[0],units:P,capitalize:g===0})}else d.push({type:"text",value:O})}),d}function c(_){let p=0;for(let d=_.length;d--;){let O=1,g=_[d].labelData;for(let P=g.length;P--;){let F=g[P];F.type==="dropdown"&&(O*=F.selectedUnit.value)}p+=_[d].value*_[d].kgco2pu*O}return p}for(let _=0;_<r.length;_++)r[_].labelData=f(r[_].label);function m(_,p){n.$$.not_equal(p.selectedUnit,_)&&(p.selectedUnit=_,t(2,r))}function b(_,p){n.$$.not_equal(p.value,_)&&(p.value=_,t(2,r))}return n.$$set=_=>{"content"in _&&t(1,i=_.content),"totalCarbon"in _&&t(0,o=_.totalCarbon)},n.$$.update=()=>{n.$$.dirty&8&&t(4,l=u(a)),n.$$.dirty&4&&t(0,o=c(r))},[o,i,r,a,l,m,b]}class Ze extends q{constructor(e){super();U(this,e,Xe,Qe,D,{content:1,totalCarbon:0})}}function xe(n){let e,t=Math.round((n[0]/1e3).toString())+"",l,a,i,o,s,r=be/1e3+"",u,f,c,m;function b(p){n[3](p)}let _={max:n[1],disabled:"true"};return n[0]!==void 0&&(_.value=n[0]),i=new ne({props:_}),Y.push(()=>G(i,"value",b)),c=new ne({props:{value:"10000",max:n[1],disabled:"true"}}),{c(){e=M("Your footprint (~"),l=M(t),a=M(` tonnes of CO2 per year):
		`),N(i.$$.fragment),s=M(`
		UK average (~`),u=M(r),f=M(` tonnes of CO2 per year):
		`),N(c.$$.fragment)},m(p,d){h(p,e,d),h(p,l,d),h(p,a,d),S(i,p,d),h(p,s,d),h(p,u,d),h(p,f,d),S(c,p,d),m=!0},p(p,d){(!m||d&1)&&t!==(t=Math.round((p[0]/1e3).toString())+"")&&H(l,t);const O={};d&2&&(O.max=p[1]),!o&&d&1&&(o=!0,O.value=p[0],J(()=>o=!1)),i.$set(O);const g={};d&2&&(g.max=p[1]),c.$set(g)},i(p){m||(k(i.$$.fragment,p),k(c.$$.fragment,p),m=!0)},o(p){y(i.$$.fragment,p),y(c.$$.fragment,p),m=!1},d(p){p&&w(e),p&&w(l),p&&w(a),z(i,p),p&&w(s),p&&w(u),p&&w(f),z(c,p)}}}function et(n){let e,t,l,a;return t=new ee({props:{topSticky:!0,$$slots:{default:[xe]},$$scope:{ctx:n}}}),{c(){e=C("div"),N(t.$$.fragment),v(e,"class",l="top-sticky "+(n[2]==="Play"?"active":"hidden")+" svelte-c8xq54")},m(i,o){h(i,e,o),S(t,e,null),a=!0},p(i,[o]){const s={};o&19&&(s.$$scope={dirty:o,ctx:i}),t.$set(s),(!a||o&4&&l!==(l="top-sticky "+(i[2]==="Play"?"active":"hidden")+" svelte-c8xq54"))&&v(e,"class",l)},i(i){a||(k(t.$$.fragment,i),a=!0)},o(i){y(t.$$.fragment,i),a=!1},d(i){i&&w(e),z(t)}}}const be=1e4;function tt(n,e,t){let l,a;W(n,I,s=>t(2,a=s));let{value:i=30}=e;function o(s){i=s,t(0,i)}return n.$$set=s=>{"value"in s&&t(0,i=s.value)},n.$$.update=()=>{n.$$.dirty&1&&t(1,l=Math.max(be*1.5,i))},[i,l,a,o]}class nt extends q{constructor(e){super();U(this,e,tt,et,D,{value:0})}}function lt(n){let e,t,l,a,i,o,s;return e=new ie({props:{source:n[0]}}),{c(){N(e.$$.fragment),t=T(),l=C("div"),a=M(n[1]),L(l,"text-align","right"),L(l,"font-size","1.2em"),L(l,"cursor","pointer")},m(r,u){S(e,r,u),h(r,t,u),h(r,l,u),$(l,a),i=!0,o||(s=A(l,"click",window.hidePopup),o=!0)},p(r,u){const f={};u&1&&(f.source=r[0]),e.$set(f),(!i||u&2)&&H(a,r[1])},i(r){i||(k(e.$$.fragment,r),i=!0)},o(r){y(e.$$.fragment,r),i=!1},d(r){z(e,r),r&&w(t),r&&w(l),o=!1,s()}}}function at(n){let e,t,l;return t=new ee({props:{width:"100%",onClick:ot,notification:!0,$$slots:{default:[lt]},$$scope:{ctx:n}}}),{c(){e=C("div"),N(t.$$.fragment),v(e,"class","centered svelte-19d3ex7")},m(a,i){h(a,e,i),S(t,e,null),l=!0},p(a,[i]){const o={};i&7&&(o.$$scope={dirty:i,ctx:a}),t.$set(o)},i(a){l||(k(t.$$.fragment,a),l=!0)},o(a){y(t.$$.fragment,a),l=!1},d(a){a&&w(e),z(t)}}}function ot(n){n.stopPropagation()}function it(n,e,t){let{content:l="No text specified."}=e,{closeButtonText:a="Close"}=e;return n.$$set=i=>{"content"in i&&t(0,l=i.content),"closeButtonText"in i&&t(1,a=i.closeButtonText)},[l,a]}class st extends q{constructor(e){super();U(this,e,it,at,D,{content:0,closeButtonText:1})}}function rt(n){let e,t,l,a,i,o,s,r;return t=new ie({props:{source:n[0].description}}),{c(){e=C("div"),N(t.$$.fragment),l=T(),a=C("a"),i=C("img"),v(e,"class","md-container svelte-1t8gdj2"),v(i,"title","View source on GitHub"),v(i,"alt","Link to source code on GitHub."),Se(i.src,o="/images/gh-logo.png")||v(i,"src",o),v(i,"class","svelte-1t8gdj2"),v(a,"href",s=n[0].githubLink)},m(u,f){h(u,e,f),S(t,e,null),h(u,l,f),h(u,a,f),$(a,i),r=!0},p(u,f){const c={};f&1&&(c.source=u[0].description),t.$set(c),(!r||f&1&&s!==(s=u[0].githubLink))&&v(a,"href",s)},i(u){r||(k(t.$$.fragment,u),r=!0)},o(u){y(t.$$.fragment,u),r=!1},d(u){u&&w(e),z(t),u&&w(l),u&&w(a)}}}function ut(n){let e,t;return e=new ee({props:{onClick:ct,state:"info",$$slots:{default:[rt]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment)},m(l,a){S(e,l,a),t=!0},p(l,[a]){const i={};a&3&&(i.$$scope={dirty:a,ctx:l}),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){y(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function ct(n){n.stopPropagation()}function ft(n,e,t){let{content:l="No text specified."}=e;return n.$$set=a=>{"content"in a&&t(0,l=a.content)},[l]}class mt extends q{constructor(e){super();U(this,e,ft,ut,D,{content:0})}}function he(n,e,t){const l=n.slice();return l[4]=e[t],l[5]=e,l[6]=t,l}function ke(n){let e,t,l;function a(o){n[3](o,n[6])}let i={content:E.calculators[n[6]]};return n[0][n[6]]!==void 0&&(i.totalCarbon=n[0][n[6]]),e=new Ze({props:i}),Y.push(()=>G(e,"totalCarbon",a)),{c(){N(e.$$.fragment)},m(o,s){S(e,o,s),l=!0},p(o,s){n=o;const r={};!t&&s&1&&(t=!0,r.totalCarbon=n[0][n[6]],J(()=>t=!1)),e.$set(r)},i(o){l||(k(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){z(e,o)}}}function pt(n){let e,t,l,a,i,o,s,r,u,f,c,m,b,_;l=new nt({props:{value:n[2]}});let p=Array(E.calculators.length),d=[];for(let g=0;g<p.length;g+=1)d[g]=ke(he(n,p,g));const O=g=>y(d[g],1,1,()=>{d[g]=null});return o=new mt({props:{content:E.aboutPanel}}),f=new st({props:{content:n[1].content,closeButtonText:n[1].closeButtonText}}),{c(){e=C("main"),t=C("div"),N(l.$$.fragment),a=T();for(let g=0;g<d.length;g+=1)d[g].c();i=T(),N(o.$$.fragment),s=T(),r=C("div"),u=C("div"),N(f.$$.fragment),v(t,"class","app-container svelte-bjwyvc"),v(u,"class","notification-container svelte-bjwyvc"),v(r,"class",c="popup-overlay "+(n[1].visible?"popup-overlay-visible":"")+" svelte-bjwyvc")},m(g,P){h(g,e,P),$(e,t),S(l,t,null),$(t,a);for(let F=0;F<d.length;F+=1)d[F].m(t,null);$(t,i),S(o,t,null),$(e,s),$(e,r),$(r,u),S(f,u,null),m=!0,b||(_=A(r,"click",window.hidePopup),b=!0)},p(g,[P]){const F={};if(P&4&&(F.value=g[2]),l.$set(F),P&1){p=Array(E.calculators.length);let B;for(B=0;B<p.length;B+=1){const le=he(g,p,B);d[B]?(d[B].p(le,P),k(d[B],1)):(d[B]=ke(le),d[B].c(),k(d[B],1),d[B].m(t,i))}for(K(),B=p.length;B<d.length;B+=1)O(B);V()}const R={};P&2&&(R.content=g[1].content),P&2&&(R.closeButtonText=g[1].closeButtonText),f.$set(R),(!m||P&2&&c!==(c="popup-overlay "+(g[1].visible?"popup-overlay-visible":"")+" svelte-bjwyvc"))&&v(r,"class",c)},i(g){if(!m){k(l.$$.fragment,g);for(let P=0;P<p.length;P+=1)k(d[P]);k(o.$$.fragment,g),k(f.$$.fragment,g),m=!0}},o(g){y(l.$$.fragment,g),d=d.filter(Boolean);for(let P=0;P<d.length;P+=1)y(d[P]);y(o.$$.fragment,g),y(f.$$.fragment,g),m=!1},d(g){g&&w(e),z(l),X(d,g),z(o),z(f),b=!1,_()}}}function _t(n,e,t){let l;const a={};a.content="none",a.closeButtonText="Close",a.visible=!1,window.showPopup=function(s,r="Close"){t(1,a.visible=!0,a),t(1,a.content=s,a),t(1,a.closeButtonText=r,a)},window.hidePopup=function(){t(1,a.visible=!1,a)};const i=new Array(E.calculators.length).fill(0);function o(s,r){n.$$.not_equal(i[r],s)&&(i[r]=s,t(0,i))}return n.$$.update=()=>{n.$$.dirty&1&&t(2,l=i.reduce((s,r)=>s+r,0))},[i,a,l,o]}class dt extends q{constructor(e){super();U(this,e,_t,pt,D,{})}}new dt({target:document.getElementById("app")});
